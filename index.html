<link rel="stylesheet" href="style.css">

<div class="banner">
  Video Surveillance Request
</div>

<div class="main">
  <div class="form-box">
    <form id="myForm">

      <input type="text" id="employeeId" placeholder="Employee ID" />

      <input type="text" id="email" placeholder="Email" />

      <input type="text" id="buildingName" placeholder="Building Name" />

      <input type="text" id="reason" placeholder="Reason" />

      <input type="text" id="date" placeholder="Date" />

      <button type="submit">Send</button>

    </form>
  </div>
</div>

<script>
  document.getElementById("myForm").addEventListener("submit", async (e) => {
    e.preventDefault();

    let employeeId = document.getElementById("employeeId").value;
    let email = document.getElementById("email").value;
    let buildingName = document.getElementById("buildingName").value;
    let reason = document.getElementById("reason").value;
    let date = document.getElementById("date").value;

    let response = await fetch("http://127.0.0.1:5000/submit", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        employeeId: employeeId,
        email: email,
        buildingName: buildingName,
        reason: reason,
        date: date
      })
    });

    let result = await response.json();
    alert(result.message);
  });
</script>
